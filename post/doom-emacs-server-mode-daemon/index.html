<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="generator" content="Hugo 0.80.0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="alternate" href="/index.xml" type="application/rss+xml" title="W00000000WIEEEEEEEE!">
<title>How do I run Emacs in Server Mode / As a Daemon? - W00000000WIEEEEEEEE!</title>
</head>
<body>

<header>
  <div class="container clearfix">
    <a class="path" href="https://w0wie.com/">[W00000000WIEEEEEEEE!]</a>
    <div class="right">
      
    </div>
  </div>
</header>

<div class="container">


<main role="main" class="article">
  
<article class="single" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2021-04-19">April 19, 2021</time></span>



  </div>
  <h1 class="headline" itemprop="headline">How do I run Emacs in Server Mode / As a Daemon?</h1>
  <section class="body" itemprop="articleBody">
    <h1 id="what-does-it-mean-to-run-emacs-in-server-mode">What does it mean to run Emacs in server mode?</h1>
<p>Maybe you, like me, have been browsing around with a shell opening files with emacs and find that it isn&rsquo;t very snappy.  Every time you open a text file, you&rsquo;re loading full blown emacs, which takes (<em>gasp</em>) over a second.</p>
<p>Fortunately you can run a single instance of Emacs in the background &ndash; a daemon, if you will.  This will allow you to open new files using the existing, running emacs instance.  Much faster!</p>
<p>Disclaimer: I use ubuntu, so this may or may not work for you if you&rsquo;re using another linux distribution.  Or a Mac.  Definitely not windows, but you can probably adapt it.</p>
<p>I&rsquo;m also using doom emacs. If you&rsquo;re not, that should be okay.</p>
<h1 id="how-do-i-start-the-daemon">How do I start the daemon?</h1>
<p>The solution I liked the most (there are others) was to always run emacsclient when opening files instead of emacs.</p>
<p>When emacsclient runs, it will start the emacs server.  Thereafter, when you run emacsclient, it will connect to the existing server.</p>
<p>To do this, add the following to your ~/.profile or ~/.bashrc file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export ALTERNATE_EDITOR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
alias e<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;emacsclient -c --socket-name=/run/user/1000/emacs/server&#34;</span>
</code></pre></div><p><strong>ALTERNATE_EDITOR</strong>: When you run emacsclient, when this environment variable is empty, emacs will start the daemon and connect to it.
<strong>alias, etc.</strong>: This maps e to emacs client, so I can simply type &ldquo;e filename.txt&rdquo; instead of &ldquo;emacs filename.txt&rdquo; to open a file in emacs.  You can make this &ldquo;emacs&rdquo; instead, if you&rsquo;re less lazy than me.</p>
<p>I prefer emacs in visual mode.  If you don&rsquo;t, change the &ldquo;-c&rdquo; to &ldquo;-t&rdquo; to open in terminal mode.</p>
<p><strong>Now reload your .profile or .bashrc somehow.</strong></p>
<p>I just do one of these:</p>
<pre><code class="language-bash." data-lang="bash.">. ~/.profile
</code></pre><h1 id="how-do-i-stop-the-daemon">How do I stop the daemon?</h1>
<ol>
<li>Open an emacs client.</li>
<li>Enter one of these commands:</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kill-emacs

Or

save-buffers-kill-emacs
</code></pre></div><p>I hope this was helpful.</p>
<p>&ndash; Luke</p>

  </section>
</article>

</main>

</div>

<footer>
  <div class="container">
    <span class="copyright">&copy; 2021 W00000000WIEEEEEEEE! - <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></span>
  </div>
</footer>

</body>
</html>

